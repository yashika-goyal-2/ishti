/* Global variables */
:root {
  --color-pink: #ff007f;
  --cursor-size-dot: 8px;
  --cursor-size-ring: 40px; /* Slightly larger ring */
}

/* Wrapper to hold states and apply blending */
.cursor-wrapper {
  position: fixed;
  top: 0;
  left: 0;
  z-index: 9999;
  pointer-events: none;
  /* CRITICAL: Difference mode makes white turn black on white, and white on black. */
  mix-blend-mode: difference;
}

/* Main Dot (The "Pointer") */
.cursor-dot {
  position: fixed;
  width: var(--cursor-size-dot);
  height: var(--cursor-size-dot);
  background-color: #ffffff; /* White for difference mode */
  border-radius: 50%;
  transform: translate(-50%, -50%);
  z-index: 10001;
  pointer-events: none;
  transition: transform 0.1s ease;
}

/* Trailing Ring (The "Fluidity") */
.cursor-ring {
  position: fixed;
  width: var(--cursor-size-ring);
  height: var(--cursor-size-ring);
  border: 2px solid #ffffff; /* White border for difference mode */
  border-radius: 50%;
  transform: translate(-50%, -50%);
  z-index: 10000;
  pointer-events: none;
  transition: width 0.3s ease, height 0.3s ease, background-color 0.3s ease, border-color 0.3s ease, transform 0.3s ease;
  will-change: left, top, width, height, transform;
}

/* Hidden State */
.cursor--hidden .cursor-dot,
.cursor--hidden .cursor-ring {
  opacity: 0;
}

/* Click State */
.cursor--clicked .cursor-dot {
  transform: translate(-50%, -50%) scale(0.5);
}
.cursor--clicked .cursor-ring {
  transform: translate(-50%, -50%) scale(0.8);
  background-color: rgba(255, 255, 255, 1); /* Flash full white (inverted logic) */
}

/* Hover State (Interactive Elements) */
.cursor--link-hovered .cursor-dot {
  opacity: 0; /* Hide dot inside hover */
}

.cursor--link-hovered .cursor-ring {
  width: 60px;
  height: 60px;
  background-color: #ffffff; /* Solid white block */
  border-width: 0;
  /* Since we are in difference mode: 
     White block over Black text = Text becomes White (readable).
     White block over White bg = Block becomes Black. 
  */
  opacity: 1;
}

/* Mobile: Hide custom cursor */
@media (max-width: 768px) {
  .cursor-wrapper {
    display: none;
  }
}
